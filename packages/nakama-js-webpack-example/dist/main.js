(()=>{"use strict";var e={277:(e,t,r)=>{var s,i=Object.defineProperty,n=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,d=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,l=(e,t)=>{for(var r in t||(t={}))u.call(t,r)&&d(e,r,t[r]);if(a)for(var r of a(t))h.call(t,r)&&d(e,r,t[r]);return e},c=(e,t,r)=>new Promise(((s,i)=>{var n=e=>{try{a(r.next(e))}catch(e){i(e)}},o=e=>{try{a(r.throw(e))}catch(e){i(e)}},a=e=>e.done?s(e.value):Promise.resolve(e.value).then(n,o);a((r=r.apply(e,t)).next())})),m={};((e,t)=>{for(var r in t)i(e,r,{get:t[r],enumerable:!0})})(m,{Client:()=>_e,DefaultSocket:()=>fe,Session:()=>ue,WebSocketAdapterText:()=>me}),e.exports=(s=m,((e,t,r,s)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of o(t))u.call(e,r)||undefined===r||i(e,r,{get:()=>t[r],enumerable:!(s=n(t,r))||s.enumerable});return e})(i({},"__esModule",{value:!0}),s));var p,f,_="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r.g&&r.g||{},w="URLSearchParams"in _,b="Symbol"in _&&"iterator"in Symbol,y="FileReader"in _&&"Blob"in _&&function(){try{return new Blob,!0}catch(e){return!1}}(),g="FormData"in _,k="ArrayBuffer"in _;function v(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function P(e){return"string"!=typeof e&&(e=String(e)),e}function T(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return b&&(t[Symbol.iterator]=function(){return t}),t}function S(e){this.map={},e instanceof S?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function R(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function x(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function M(e){var t=new FileReader,r=x(t);return t.readAsArrayBuffer(e),r}function O(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function A(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:y&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:g&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:w&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():k&&y&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=O(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):k&&(ArrayBuffer.prototype.isPrototypeOf(e)||f(e))?this._bodyArrayBuffer=O(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):w&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y&&(this.blob=function(){var e=R(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return R(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(y)return this.blob().then(M);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e,t,r,s,i,n=R(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,r=x(t=new FileReader),i=(s=/charset=([A-Za-z0-9_-]+)/.exec(e.type))?s[1]:"utf-8",t.readAsText(e,i),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),s=0;s<t.length;s++)r[s]=String.fromCharCode(t[s]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g&&(this.formData=function(){return this.text().then(U)}),this.json=function(){return this.text().then(JSON.parse)},this}k&&(p=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(e){return e&&p.indexOf(Object.prototype.toString.call(e))>-1}),S.prototype.append=function(e,t){e=v(e),t=P(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},S.prototype.delete=function(e){delete this.map[v(e)]},S.prototype.get=function(e){return e=v(e),this.has(e)?this.map[e]:null},S.prototype.has=function(e){return this.map.hasOwnProperty(v(e))},S.prototype.set=function(e,t){this.map[v(e)]=P(t)},S.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},S.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),T(e)},S.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),T(e)},S.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),T(e)},b&&(S.prototype[Symbol.iterator]=S.prototype.entries);var E=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function C(e,t){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,s,i=(t=t||{}).body;if(e instanceof C){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new S(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new S(t.headers)),this.method=(s=(r=t.method||this.method||"GET").toUpperCase(),E.indexOf(s)>-1?s:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in _)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var n=/([?&])_=[^&]*/;n.test(this.url)?this.url=this.url.replace(n,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function U(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),s=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(s),decodeURIComponent(i))}})),t}function q(e,t){if(!(this instanceof q))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new S(t.headers),this.url=t.url||"",this._initBody(e)}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})},A.call(C.prototype),A.call(q.prototype),q.prototype.clone=function(){return new q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new S(this.headers),url:this.url})},q.error=function(){var e=new q(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var N=[301,302,303,307,308];q.redirect=function(e,t){if(-1===N.indexOf(t))throw new RangeError("Invalid status code");return new q(null,{status:t,headers:{location:e}})};var j=_.DOMException;try{new j}catch(e){(j=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),j.prototype.constructor=j}function F(e,t){return new Promise((function(r,s){var i=new C(e,t);if(i.signal&&i.signal.aborted)return s(new j("Aborted","AbortError"));var n=new XMLHttpRequest;function o(){n.abort()}if(n.onload=function(){var e,t,s={statusText:n.statusText,headers:(e=n.getAllResponseHeaders()||"",t=new S,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var r=e.split(":"),s=r.shift().trim();if(s){var i=r.join(":").trim();try{t.append(s,i)}catch(e){console.warn("Response "+e.message)}}})),t)};0===i.url.indexOf("file://")&&(n.status<200||n.status>599)?s.status=200:s.status=n.status,s.url="responseURL"in n?n.responseURL:s.headers.get("X-Request-URL");var o="response"in n?n.response:n.responseText;setTimeout((function(){r(new q(o,s))}),0)},n.onerror=function(){setTimeout((function(){s(new TypeError("Network request failed"))}),0)},n.ontimeout=function(){setTimeout((function(){s(new TypeError("Network request timed out"))}),0)},n.onabort=function(){setTimeout((function(){s(new j("Aborted","AbortError"))}),0)},n.open(i.method,function(e){try{return""===e&&_.location.href?_.location.href:e}catch(t){return e}}(i.url),!0),"include"===i.credentials?n.withCredentials=!0:"omit"===i.credentials&&(n.withCredentials=!1),"responseType"in n&&(y?n.responseType="blob":k&&(n.responseType="arraybuffer")),t&&"object"==typeof t.headers&&!(t.headers instanceof S||_.Headers&&t.headers instanceof _.Headers)){var a=[];Object.getOwnPropertyNames(t.headers).forEach((function(e){a.push(v(e)),n.setRequestHeader(e,P(t.headers[e]))})),i.headers.forEach((function(e,t){-1===a.indexOf(t)&&n.setRequestHeader(t,e)}))}else i.headers.forEach((function(e,t){n.setRequestHeader(t,e)}));i.signal&&(i.signal.addEventListener("abort",o),n.onreadystatechange=function(){4===n.readyState&&i.signal.removeEventListener("abort",o)}),n.send(void 0===i._bodyInit?null:i._bodyInit)}))}F.polyfill=!0,_.fetch||(_.fetch=F,_.Headers=S,_.Request=C,_.Response=q);var I="function"==typeof Buffer,B="function"==typeof TextDecoder?new TextDecoder:void 0,D="function"==typeof TextEncoder?new TextEncoder:void 0,z=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),G=(e=>{let t={};return e.forEach(((e,r)=>t[e]=r)),t})(z),J=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,L=String.fromCharCode.bind(String),H="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),$=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),W="function"==typeof btoa?e=>btoa(e):I?e=>Buffer.from(e,"binary").toString("base64"):e=>{let t,r,s,i,n="";const o=e.length%3;for(let o=0;o<e.length;){if((r=e.charCodeAt(o++))>255||(s=e.charCodeAt(o++))>255||(i=e.charCodeAt(o++))>255)throw new TypeError("invalid character found");t=r<<16|s<<8|i,n+=z[t>>18&63]+z[t>>12&63]+z[t>>6&63]+z[63&t]}return o?n.slice(0,o-3)+"===".substring(o):n},Z=I?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let r=0,s=e.length;r<s;r+=4096)t.push(L.apply(null,e.subarray(r,r+4096)));return W(t.join(""))},X=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?L(192|t>>>6)+L(128|63&t):L(224|t>>>12&15)+L(128|t>>>6&63)+L(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return L(240|t>>>18&7)+L(128|t>>>12&63)+L(128|t>>>6&63)+L(128|63&t)},V=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,K=I?e=>Buffer.from(e,"utf8").toString("base64"):D?e=>Z(D.encode(e)):e=>W(e.replace(V,X)),Q=(e,t=!1)=>t?(e=>e.replace(/=/g,"").replace(/[+\/]/g,(e=>"+"==e?"-":"_")))(K(e)):K(e),Y=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,ee=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return L(55296+(t>>>10))+L(56320+(1023&t));case 3:return L((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return L((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},te="function"==typeof atob?e=>atob($(e)):I?e=>Buffer.from(e,"base64").toString("binary"):e=>{if(e=e.replace(/\s+/g,""),!J.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,r,s,i="";for(let n=0;n<e.length;)t=G[e.charAt(n++)]<<18|G[e.charAt(n++)]<<12|(r=G[e.charAt(n++)])<<6|(s=G[e.charAt(n++)]),i+=64===r?L(t>>16&255):64===s?L(t>>16&255,t>>8&255):L(t>>16&255,t>>8&255,255&t);return i},re=I?e=>H(Buffer.from(e,"base64")):e=>H(te(e).split("").map((e=>e.charCodeAt(0)))),se=I?e=>Buffer.from(e,"base64").toString("utf8"):B?e=>B.decode(re(e)):e=>te(e).replace(Y,ee),ie=e=>se($(e.replace(/[-_]/g,(e=>"-"==e?"+":"/"))));function ne(e,t,r){const s=l(l({},{method:e}),t);if(s.headers=l({},t.headers),"undefined"!=typeof XMLHttpRequest){const e=Object.getOwnPropertyDescriptor(XMLHttpRequest.prototype,"withCredentials");(null==e?void 0:e.set)||(s.credentials="cocos-ignore")}return Object.keys(s.headers).includes("Accept")||(s.headers.Accept="application/json"),Object.keys(s.headers).includes("Content-Type")||(s.headers["Content-Type"]="application/json"),Object.keys(s.headers).forEach((e=>{s.headers[e]||delete s.headers[e]})),r&&(s.body=r),s}var oe,ae=class{constructor(e,t,r){this.serverKey=e,this.basePath=t,this.timeoutMs=r}healthcheck(e,t={}){const r=new Map,s=this.buildFullUrl(this.basePath,"/healthcheck",r),i=ne("GET",t,"");return e&&(i.headers.Authorization="Bearer "+e),Promise.race([fetch(s,i).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}deleteAccount(e,t={}){const r=new Map,s=this.buildFullUrl(this.basePath,"/v2/account",r),i=ne("DELETE",t,"");return e&&(i.headers.Authorization="Bearer "+e),Promise.race([fetch(s,i).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}getAccount(e,t={}){const r=new Map,s=this.buildFullUrl(this.basePath,"/v2/account",r),i=ne("GET",t,"");return e&&(i.headers.Authorization="Bearer "+e),Promise.race([fetch(s,i).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}updateAccount(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/account",s),o=ne("PUT",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}authenticateApple(e,t,r,s,i,n={}){if(null==r)throw new Error("'account' is a required parameter but is null or undefined.");const o=new Map;o.set("create",s),o.set("username",i);let a="";a=JSON.stringify(r||{});const u=this.buildFullUrl(this.basePath,"/v2/account/authenticate/apple",o),h=ne("POST",n,a);return e&&(h.headers.Authorization="Basic "+Q(e+":"+t)),Promise.race([fetch(u,h).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}authenticateCustom(e,t,r,s,i,n={}){if(null==r)throw new Error("'account' is a required parameter but is null or undefined.");const o=new Map;o.set("create",s),o.set("username",i);let a="";a=JSON.stringify(r||{});const u=this.buildFullUrl(this.basePath,"/v2/account/authenticate/custom",o),h=ne("POST",n,a);return e&&(h.headers.Authorization="Basic "+Q(e+":"+t)),Promise.race([fetch(u,h).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}authenticateDevice(e,t,r,s,i,n={}){if(null==r)throw new Error("'account' is a required parameter but is null or undefined.");const o=new Map;o.set("create",s),o.set("username",i);let a="";a=JSON.stringify(r||{});const u=this.buildFullUrl(this.basePath,"/v2/account/authenticate/device",o),h=ne("POST",n,a);return e&&(h.headers.Authorization="Basic "+Q(e+":"+t)),Promise.race([fetch(u,h).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}authenticateEmail(e,t,r,s,i,n={}){if(null==r)throw new Error("'account' is a required parameter but is null or undefined.");const o=new Map;o.set("create",s),o.set("username",i);let a="";a=JSON.stringify(r||{});const u=this.buildFullUrl(this.basePath,"/v2/account/authenticate/email",o),h=ne("POST",n,a);return e&&(h.headers.Authorization="Basic "+Q(e+":"+t)),Promise.race([fetch(u,h).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}authenticateFacebook(e,t,r,s,i,n,o={}){if(null==r)throw new Error("'account' is a required parameter but is null or undefined.");const a=new Map;a.set("create",s),a.set("username",i),a.set("sync",n);let u="";u=JSON.stringify(r||{});const h=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebook",a),d=ne("POST",o,u);return e&&(d.headers.Authorization="Basic "+Q(e+":"+t)),Promise.race([fetch(h,d).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}authenticateFacebookInstantGame(e,t,r,s,i,n={}){if(null==r)throw new Error("'account' is a required parameter but is null or undefined.");const o=new Map;o.set("create",s),o.set("username",i);let a="";a=JSON.stringify(r||{});const u=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebookinstantgame",o),h=ne("POST",n,a);return e&&(h.headers.Authorization="Basic "+Q(e+":"+t)),Promise.race([fetch(u,h).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}authenticateGameCenter(e,t,r,s,i,n={}){if(null==r)throw new Error("'account' is a required parameter but is null or undefined.");const o=new Map;o.set("create",s),o.set("username",i);let a="";a=JSON.stringify(r||{});const u=this.buildFullUrl(this.basePath,"/v2/account/authenticate/gamecenter",o),h=ne("POST",n,a);return e&&(h.headers.Authorization="Basic "+Q(e+":"+t)),Promise.race([fetch(u,h).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}authenticateGoogle(e,t,r,s,i,n={}){if(null==r)throw new Error("'account' is a required parameter but is null or undefined.");const o=new Map;o.set("create",s),o.set("username",i);let a="";a=JSON.stringify(r||{});const u=this.buildFullUrl(this.basePath,"/v2/account/authenticate/google",o),h=ne("POST",n,a);return e&&(h.headers.Authorization="Basic "+Q(e+":"+t)),Promise.race([fetch(u,h).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}authenticateSteam(e,t,r,s,i,n,o={}){if(null==r)throw new Error("'account' is a required parameter but is null or undefined.");const a=new Map;a.set("create",s),a.set("username",i),a.set("sync",n);let u="";u=JSON.stringify(r||{});const h=this.buildFullUrl(this.basePath,"/v2/account/authenticate/steam",a),d=ne("POST",o,u);return e&&(d.headers.Authorization="Basic "+Q(e+":"+t)),Promise.race([fetch(h,d).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}linkApple(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/account/link/apple",s),o=ne("POST",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}linkCustom(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/account/link/custom",s),o=ne("POST",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}linkDevice(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/account/link/device",s),o=ne("POST",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}linkEmail(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/account/link/email",s),o=ne("POST",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}linkFacebook(e,t,r,s={}){if(null==t)throw new Error("'account' is a required parameter but is null or undefined.");const i=new Map;i.set("sync",r);let n="";n=JSON.stringify(t||{});const o=this.buildFullUrl(this.basePath,"/v2/account/link/facebook",i),a=ne("POST",s,n);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}linkFacebookInstantGame(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/account/link/facebookinstantgame",s),o=ne("POST",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}linkGameCenter(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/account/link/gamecenter",s),o=ne("POST",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}linkGoogle(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/account/link/google",s),o=ne("POST",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}linkSteam(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/account/link/steam",s),o=ne("POST",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}sessionRefresh(e,t,r,s={}){if(null==r)throw new Error("'body' is a required parameter but is null or undefined.");const i=new Map;let n="";n=JSON.stringify(r||{});const o=this.buildFullUrl(this.basePath,"/v2/account/session/refresh",i),a=ne("POST",s,n);return e&&(a.headers.Authorization="Basic "+Q(e+":"+t)),Promise.race([fetch(o,a).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}unlinkApple(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/account/unlink/apple",s),o=ne("POST",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}unlinkCustom(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/account/unlink/custom",s),o=ne("POST",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}unlinkDevice(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/account/unlink/device",s),o=ne("POST",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}unlinkEmail(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/account/unlink/email",s),o=ne("POST",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}unlinkFacebook(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebook",s),o=ne("POST",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}unlinkFacebookInstantGame(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebookinstantgame",s),o=ne("POST",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}unlinkGameCenter(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/account/unlink/gamecenter",s),o=ne("POST",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}unlinkGoogle(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/account/unlink/google",s),o=ne("POST",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}unlinkSteam(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/account/unlink/steam",s),o=ne("POST",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}listChannelMessages(e,t,r,s,i,n={}){if(null==t)throw new Error("'channelId' is a required parameter but is null or undefined.");const o="/v2/channel/{channelId}".replace("{channelId}",encodeURIComponent(String(t))),a=new Map;a.set("limit",r),a.set("forward",s),a.set("cursor",i);const u=this.buildFullUrl(this.basePath,o,a),h=ne("GET",n,"");return e&&(h.headers.Authorization="Bearer "+e),Promise.race([fetch(u,h).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}event(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/event",s),o=ne("POST",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}deleteFriends(e,t,r,s={}){const i=new Map;i.set("ids",t),i.set("usernames",r);const n=this.buildFullUrl(this.basePath,"/v2/friend",i),o=ne("DELETE",s,"");return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}listFriends(e,t,r,s,i={}){const n=new Map;n.set("limit",t),n.set("state",r),n.set("cursor",s);const o=this.buildFullUrl(this.basePath,"/v2/friend",n),a=ne("GET",i,"");return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}addFriends(e,t,r,s={}){const i=new Map;i.set("ids",t),i.set("usernames",r);const n=this.buildFullUrl(this.basePath,"/v2/friend",i),o=ne("POST",s,"");return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}blockFriends(e,t,r,s={}){const i=new Map;i.set("ids",t),i.set("usernames",r);const n=this.buildFullUrl(this.basePath,"/v2/friend/block",i),o=ne("POST",s,"");return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}importFacebookFriends(e,t,r,s={}){if(null==t)throw new Error("'account' is a required parameter but is null or undefined.");const i=new Map;i.set("reset",r);let n="";n=JSON.stringify(t||{});const o=this.buildFullUrl(this.basePath,"/v2/friend/facebook",i),a=ne("POST",s,n);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}listFriendsOfFriends(e,t,r,s={}){const i=new Map;i.set("limit",t),i.set("cursor",r);const n=this.buildFullUrl(this.basePath,"/v2/friend/friends",i),o=ne("GET",s,"");return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}importSteamFriends(e,t,r,s={}){if(null==t)throw new Error("'account' is a required parameter but is null or undefined.");const i=new Map;i.set("reset",r);let n="";n=JSON.stringify(t||{});const o=this.buildFullUrl(this.basePath,"/v2/friend/steam",i),a=ne("POST",s,n);return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}listGroups(e,t,r,s,i,n,o,a={}){const u=new Map;u.set("name",t),u.set("cursor",r),u.set("limit",s),u.set("lang_tag",i),u.set("members",n),u.set("open",o);const h=this.buildFullUrl(this.basePath,"/v2/group",u),d=ne("GET",a,"");return e&&(d.headers.Authorization="Bearer "+e),Promise.race([fetch(h,d).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}createGroup(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/group",s),o=ne("POST",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}deleteGroup(e,t,r={}){if(null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");const s="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(t))),i=new Map,n=this.buildFullUrl(this.basePath,s,i),o=ne("DELETE",r,"");return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}updateGroup(e,t,r,s={}){if(null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");if(null==r)throw new Error("'body' is a required parameter but is null or undefined.");const i="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(t))),n=new Map;let o="";o=JSON.stringify(r||{});const a=this.buildFullUrl(this.basePath,i,n),u=ne("PUT",s,o);return e&&(u.headers.Authorization="Bearer "+e),Promise.race([fetch(a,u).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}addGroupUsers(e,t,r,s={}){if(null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");const i="/v2/group/{groupId}/add".replace("{groupId}",encodeURIComponent(String(t))),n=new Map;n.set("user_ids",r);const o=this.buildFullUrl(this.basePath,i,n),a=ne("POST",s,"");return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}banGroupUsers(e,t,r,s={}){if(null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");const i="/v2/group/{groupId}/ban".replace("{groupId}",encodeURIComponent(String(t))),n=new Map;n.set("user_ids",r);const o=this.buildFullUrl(this.basePath,i,n),a=ne("POST",s,"");return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}demoteGroupUsers(e,t,r,s={}){if(null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");const i="/v2/group/{groupId}/demote".replace("{groupId}",encodeURIComponent(String(t))),n=new Map;n.set("user_ids",r);const o=this.buildFullUrl(this.basePath,i,n),a=ne("POST",s,"");return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}joinGroup(e,t,r={}){if(null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");const s="/v2/group/{groupId}/join".replace("{groupId}",encodeURIComponent(String(t))),i=new Map,n=this.buildFullUrl(this.basePath,s,i),o=ne("POST",r,"");return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}kickGroupUsers(e,t,r,s={}){if(null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");const i="/v2/group/{groupId}/kick".replace("{groupId}",encodeURIComponent(String(t))),n=new Map;n.set("user_ids",r);const o=this.buildFullUrl(this.basePath,i,n),a=ne("POST",s,"");return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}leaveGroup(e,t,r={}){if(null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");const s="/v2/group/{groupId}/leave".replace("{groupId}",encodeURIComponent(String(t))),i=new Map,n=this.buildFullUrl(this.basePath,s,i),o=ne("POST",r,"");return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}promoteGroupUsers(e,t,r,s={}){if(null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");const i="/v2/group/{groupId}/promote".replace("{groupId}",encodeURIComponent(String(t))),n=new Map;n.set("user_ids",r);const o=this.buildFullUrl(this.basePath,i,n),a=ne("POST",s,"");return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}listGroupUsers(e,t,r,s,i,n={}){if(null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");const o="/v2/group/{groupId}/user".replace("{groupId}",encodeURIComponent(String(t))),a=new Map;a.set("limit",r),a.set("state",s),a.set("cursor",i);const u=this.buildFullUrl(this.basePath,o,a),h=ne("GET",n,"");return e&&(h.headers.Authorization="Bearer "+e),Promise.race([fetch(u,h).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}validatePurchaseApple(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/iap/purchase/apple",s),o=ne("POST",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}validatePurchaseFacebookInstant(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/iap/purchase/facebookinstant",s),o=ne("POST",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}validatePurchaseGoogle(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/iap/purchase/google",s),o=ne("POST",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}validatePurchaseHuawei(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/iap/purchase/huawei",s),o=ne("POST",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}listSubscriptions(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/iap/subscription",s),o=ne("POST",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}validateSubscriptionApple(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/iap/subscription/apple",s),o=ne("POST",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}validateSubscriptionGoogle(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/iap/subscription/google",s),o=ne("POST",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}getSubscription(e,t,r={}){if(null==t)throw new Error("'productId' is a required parameter but is null or undefined.");const s="/v2/iap/subscription/{productId}".replace("{productId}",encodeURIComponent(String(t))),i=new Map,n=this.buildFullUrl(this.basePath,s,i),o=ne("GET",r,"");return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}deleteLeaderboardRecord(e,t,r={}){if(null==t)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const s="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(t))),i=new Map,n=this.buildFullUrl(this.basePath,s,i),o=ne("DELETE",r,"");return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}listLeaderboardRecords(e,t,r,s,i,n,o={}){if(null==t)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");const a="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(t))),u=new Map;u.set("owner_ids",r),u.set("limit",s),u.set("cursor",i),u.set("expiry",n);const h=this.buildFullUrl(this.basePath,a,u),d=ne("GET",o,"");return e&&(d.headers.Authorization="Bearer "+e),Promise.race([fetch(h,d).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}writeLeaderboardRecord(e,t,r,s={}){if(null==t)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==r)throw new Error("'record' is a required parameter but is null or undefined.");const i="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(t))),n=new Map;let o="";o=JSON.stringify(r||{});const a=this.buildFullUrl(this.basePath,i,n),u=ne("POST",s,o);return e&&(u.headers.Authorization="Bearer "+e),Promise.race([fetch(a,u).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}listLeaderboardRecordsAroundOwner(e,t,r,s,i,n,o={}){if(null==t)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==r)throw new Error("'ownerId' is a required parameter but is null or undefined.");const a="/v2/leaderboard/{leaderboardId}/owner/{ownerId}".replace("{leaderboardId}",encodeURIComponent(String(t))).replace("{ownerId}",encodeURIComponent(String(r))),u=new Map;u.set("limit",s),u.set("expiry",i),u.set("cursor",n);const h=this.buildFullUrl(this.basePath,a,u),d=ne("GET",o,"");return e&&(d.headers.Authorization="Bearer "+e),Promise.race([fetch(h,d).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}listMatches(e,t,r,s,i,n,o,a={}){const u=new Map;u.set("limit",t),u.set("authoritative",r),u.set("label",s),u.set("min_size",i),u.set("max_size",n),u.set("query",o);const h=this.buildFullUrl(this.basePath,"/v2/match",u),d=ne("GET",a,"");return e&&(d.headers.Authorization="Bearer "+e),Promise.race([fetch(h,d).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}deleteNotifications(e,t,r={}){const s=new Map;s.set("ids",t);const i=this.buildFullUrl(this.basePath,"/v2/notification",s),n=ne("DELETE",r,"");return e&&(n.headers.Authorization="Bearer "+e),Promise.race([fetch(i,n).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}listNotifications(e,t,r,s={}){const i=new Map;i.set("limit",t),i.set("cacheable_cursor",r);const n=this.buildFullUrl(this.basePath,"/v2/notification",i),o=ne("GET",s,"");return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}rpcFunc2(e,t,r,s,i={}){if(null==t)throw new Error("'id' is a required parameter but is null or undefined.");const n="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(t))),o=new Map;o.set("payload",r),o.set("http_key",s);const a=this.buildFullUrl(this.basePath,n,o),u=ne("GET",i,"");return e&&(u.headers.Authorization="Bearer "+e),Promise.race([fetch(a,u).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}rpcFunc(e,t,r,s,i={}){if(null==t)throw new Error("'id' is a required parameter but is null or undefined.");if(null==r)throw new Error("'body' is a required parameter but is null or undefined.");const n="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(t))),o=new Map;o.set("http_key",s);let a="";a=JSON.stringify(r||{});const u=this.buildFullUrl(this.basePath,n,o),h=ne("POST",i,a);return e&&(h.headers.Authorization="Bearer "+e),Promise.race([fetch(u,h).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}sessionLogout(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/session/logout",s),o=ne("POST",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}readStorageObjects(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/storage",s),o=ne("POST",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}writeStorageObjects(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/storage",s),o=ne("PUT",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}deleteStorageObjects(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");const s=new Map;let i="";i=JSON.stringify(t||{});const n=this.buildFullUrl(this.basePath,"/v2/storage/delete",s),o=ne("PUT",r,i);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}listStorageObjects(e,t,r,s,i,n={}){if(null==t)throw new Error("'collection' is a required parameter but is null or undefined.");const o="/v2/storage/{collection}".replace("{collection}",encodeURIComponent(String(t))),a=new Map;a.set("user_id",r),a.set("limit",s),a.set("cursor",i);const u=this.buildFullUrl(this.basePath,o,a),h=ne("GET",n,"");return e&&(h.headers.Authorization="Bearer "+e),Promise.race([fetch(u,h).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}listStorageObjects2(e,t,r,s,i,n={}){if(null==t)throw new Error("'collection' is a required parameter but is null or undefined.");if(null==r)throw new Error("'userId' is a required parameter but is null or undefined.");const o="/v2/storage/{collection}/{userId}".replace("{collection}",encodeURIComponent(String(t))).replace("{userId}",encodeURIComponent(String(r))),a=new Map;a.set("limit",s),a.set("cursor",i);const u=this.buildFullUrl(this.basePath,o,a),h=ne("GET",n,"");return e&&(h.headers.Authorization="Bearer "+e),Promise.race([fetch(u,h).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}listTournaments(e,t,r,s,i,n,o,a={}){const u=new Map;u.set("category_start",t),u.set("category_end",r),u.set("start_time",s),u.set("end_time",i),u.set("limit",n),u.set("cursor",o);const h=this.buildFullUrl(this.basePath,"/v2/tournament",u),d=ne("GET",a,"");return e&&(d.headers.Authorization="Bearer "+e),Promise.race([fetch(h,d).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}deleteTournamentRecord(e,t,r={}){if(null==t)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const s="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(t))),i=new Map,n=this.buildFullUrl(this.basePath,s,i),o=ne("DELETE",r,"");return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}listTournamentRecords(e,t,r,s,i,n,o={}){if(null==t)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const a="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(t))),u=new Map;u.set("owner_ids",r),u.set("limit",s),u.set("cursor",i),u.set("expiry",n);const h=this.buildFullUrl(this.basePath,a,u),d=ne("GET",o,"");return e&&(d.headers.Authorization="Bearer "+e),Promise.race([fetch(h,d).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}writeTournamentRecord2(e,t,r,s={}){if(null==t)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==r)throw new Error("'record' is a required parameter but is null or undefined.");const i="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(t))),n=new Map;let o="";o=JSON.stringify(r||{});const a=this.buildFullUrl(this.basePath,i,n),u=ne("POST",s,o);return e&&(u.headers.Authorization="Bearer "+e),Promise.race([fetch(a,u).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}writeTournamentRecord(e,t,r,s={}){if(null==t)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==r)throw new Error("'record' is a required parameter but is null or undefined.");const i="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(t))),n=new Map;let o="";o=JSON.stringify(r||{});const a=this.buildFullUrl(this.basePath,i,n),u=ne("PUT",s,o);return e&&(u.headers.Authorization="Bearer "+e),Promise.race([fetch(a,u).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}joinTournament(e,t,r={}){if(null==t)throw new Error("'tournamentId' is a required parameter but is null or undefined.");const s="/v2/tournament/{tournamentId}/join".replace("{tournamentId}",encodeURIComponent(String(t))),i=new Map,n=this.buildFullUrl(this.basePath,s,i),o=ne("POST",r,"");return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(n,o).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}listTournamentRecordsAroundOwner(e,t,r,s,i,n,o={}){if(null==t)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==r)throw new Error("'ownerId' is a required parameter but is null or undefined.");const a="/v2/tournament/{tournamentId}/owner/{ownerId}".replace("{tournamentId}",encodeURIComponent(String(t))).replace("{ownerId}",encodeURIComponent(String(r))),u=new Map;u.set("limit",s),u.set("expiry",i),u.set("cursor",n);const h=this.buildFullUrl(this.basePath,a,u),d=ne("GET",o,"");return e&&(d.headers.Authorization="Bearer "+e),Promise.race([fetch(h,d).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}getUsers(e,t,r,s,i={}){const n=new Map;n.set("ids",t),n.set("usernames",r),n.set("facebook_ids",s);const o=this.buildFullUrl(this.basePath,"/v2/user",n),a=ne("GET",i,"");return e&&(a.headers.Authorization="Bearer "+e),Promise.race([fetch(o,a).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}listUserGroups(e,t,r,s,i,n={}){if(null==t)throw new Error("'userId' is a required parameter but is null or undefined.");const o="/v2/user/{userId}/group".replace("{userId}",encodeURIComponent(String(t))),a=new Map;a.set("limit",r),a.set("state",s),a.set("cursor",i);const u=this.buildFullUrl(this.basePath,o,a),h=ne("GET",n,"");return e&&(h.headers.Authorization="Bearer "+e),Promise.race([fetch(u,h).then((e=>{if(204==e.status)return e;if(e.status>=200&&e.status<300)return e.json();throw e})),new Promise(((e,t)=>setTimeout(t,this.timeoutMs,"Request timed out.")))])}buildFullUrl(e,t,r){let s=e+t+"?";for(let[e,t]of r)t instanceof Array?s+=t.reduce(((t,r)=>t+encodeURIComponent(e)+"="+encodeURIComponent(r)+"&"),""):null!=t&&(s+=encodeURIComponent(e)+"="+encodeURIComponent(t)+"&");return s}},ue=class e{constructor(e,t,r){this.created=r,this.token=e,this.refresh_token=t,this.created_at=Math.floor((new Date).getTime()/1e3),this.update(e,t)}isexpired(e){return this.expires_at-e<0}isrefreshexpired(e){return this.refresh_expires_at-e<0}update(e,t){const r=this.decodeJWT(e),s=Math.floor(parseInt(r.exp));if(t){const e=this.decodeJWT(t),r=Math.floor(parseInt(e.exp));this.refresh_expires_at=r,this.refresh_token=t}this.token=e,this.expires_at=s,this.username=r.usn,this.user_id=r.uid,this.vars=r.vrs}decodeJWT(e){const{1:t}=e.split("."),r=t.replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(te(r).split("").map((e=>`%${`00${e.charCodeAt(0).toString(16)}`.slice(-2)}`)).join(""));return JSON.parse(s)}static restore(t,r){return new e(t,r,!1)}},he="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",de="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(oe=0;oe<64;oe++)de[he.charCodeAt(oe)]=oe;var le=function(e){var t,r=new Uint8Array(e),s=r.length,i="";for(t=0;t<s;t+=3)i+=he[r[t]>>2],i+=he[(3&r[t])<<4|r[t+1]>>4],i+=he[(15&r[t+1])<<2|r[t+2]>>6],i+=he[63&r[t+2]];return s%3==2?i=i.substring(0,i.length-1)+"=":s%3==1&&(i=i.substring(0,i.length-2)+"=="),i},ce=function(e){var t,r,s,i,n,o=.75*e.length,a=e.length,u=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var h=new ArrayBuffer(o),d=new Uint8Array(h);for(t=0;t<a;t+=4)r=de[e.charCodeAt(t)],s=de[e.charCodeAt(t+1)],i=de[e.charCodeAt(t+2)],n=de[e.charCodeAt(t+3)],d[u++]=r<<2|s>>4,d[u++]=(15&s)<<4|i>>2,d[u++]=(3&i)<<6|63&n;return h},me=class{get onClose(){return this._socket.onclose}set onClose(e){this._socket.onclose=e}get onError(){return this._socket.onerror}set onError(e){this._socket.onerror=e}get onMessage(){return this._socket.onmessage}set onMessage(e){e?this._socket.onmessage=t=>{const r=JSON.parse(t.data);r.match_data&&r.match_data.data?r.match_data.data=new Uint8Array(ce(r.match_data.data)):r.party_data&&r.party_data.data&&(r.party_data.data=new Uint8Array(ce(r.party_data.data))),e(r)}:e=null}get onOpen(){return this._socket.onopen}set onOpen(e){this._socket.onopen=e}isOpen(){var e;return(null==(e=this._socket)?void 0:e.readyState)==WebSocket.OPEN}connect(e,t,r,s,i){const n=`${e}${t}:${r}/ws?lang=en&status=${encodeURIComponent(s.toString())}&token=${encodeURIComponent(i)}`;this._socket=new WebSocket(n)}close(){this._socket.close(),this._socket=void 0}send(e){if(e.match_data_send){e.match_data_send.op_code=e.match_data_send.op_code.toString();let t=e.match_data_send.data;t&&t instanceof Uint8Array?e.match_data_send.data=le(t.buffer):t&&(e.match_data_send.data=W(t))}else if(e.party_data_send){e.party_data_send.op_code=e.party_data_send.op_code.toString();let t=e.party_data_send.data;t&&t instanceof Uint8Array?e.party_data_send.data=le(t.buffer):t&&(e.party_data_send.data=W(t))}this._socket.send(JSON.stringify(e))}},pe=class e{constructor(t,r,s=!1,i=!1,n=new me,o=e.DefaultSendTimeoutMs){this.host=t,this.port=r,this.useSSL=s,this.verbose=i,this.adapter=n,this.sendTimeoutMs=o,this.cIds={},this.nextCid=1,this._heartbeatTimeoutMs=e.DefaultHeartbeatTimeoutMs}generatecid(){const e=this.nextCid.toString();return++this.nextCid,e}connect(t,r=!1,s=e.DefaultConnectTimeoutMs){if(this.adapter.isOpen())return Promise.resolve(t);const i=this.useSSL?"wss://":"ws://";return this.adapter.connect(i,this.host,this.port,r,t.token),this.adapter.onClose=e=>{this.ondisconnect(e)},this.adapter.onError=e=>{this.onerror(e)},this.adapter.onMessage=e=>{if(this.verbose&&window&&window.console&&console.log("Response: %o",JSON.stringify(e)),e.cid){const t=this.cIds[e.cid];if(!t)return void(this.verbose&&window&&window.console&&console.error("No promise executor for message: %o",e));delete this.cIds[e.cid],e.error?t.reject(e.error):t.resolve(e)}else e.notifications?e.notifications.notifications.forEach((e=>{e.content=e.content?JSON.parse(e.content):void 0,this.onnotification(e)})):e.match_data?(e.match_data.op_code=parseInt(e.match_data.op_code),this.onmatchdata(e.match_data)):e.match_presence_event?this.onmatchpresence(e.match_presence_event):e.matchmaker_ticket?this.onmatchmakerticket(e.matchmaker_ticket):e.matchmaker_matched?this.onmatchmakermatched(e.matchmaker_matched):e.status_presence_event?this.onstatuspresence(e.status_presence_event):e.stream_presence_event?this.onstreampresence(e.stream_presence_event):e.stream_data?this.onstreamdata(e.stream_data):e.channel_message?(e.channel_message.content=JSON.parse(e.channel_message.content),this.onchannelmessage(e.channel_message)):e.channel_presence_event?this.onchannelpresence(e.channel_presence_event):e.party_data?(e.party_data.op_code=parseInt(e.party_data.op_code),this.onpartydata(e.party_data)):e.party_close?this.onpartyclose(e.party_close):e.party_join_request?this.onpartyjoinrequest(e.party_join_request):e.party_leader?this.onpartyleader(e.party_leader):e.party_matchmaker_ticket?this.onpartymatchmakerticket(e.party_matchmaker_ticket):e.party_presence_event?this.onpartypresence(e.party_presence_event):e.party?this.onparty(e.party):this.verbose&&window&&window.console&&console.log("Unrecognized message received: %o",e)},new Promise(((e,r)=>{this.adapter.onOpen=r=>{this.verbose&&window&&window.console&&console.log(r),this.pingPong(),e(t)},this.adapter.onError=e=>{r(e),this.adapter.isOpen()&&this.adapter.close()},setTimeout((()=>{r("The socket timed out when trying to connect.")}),s)}))}disconnect(e=!0){this.adapter.isOpen()&&this.adapter.close(),e&&this.ondisconnect({})}setHeartbeatTimeoutMs(e){this._heartbeatTimeoutMs=e}getHeartbeatTimeoutMs(){return this._heartbeatTimeoutMs}ondisconnect(e){this.verbose&&window&&window.console&&console.log(e)}onerror(e){this.verbose&&window&&window.console&&console.log(e)}onchannelmessage(e){this.verbose&&window&&window.console&&console.log(e)}onchannelpresence(e){this.verbose&&window&&window.console&&console.log(e)}onnotification(e){this.verbose&&window&&window.console&&console.log(e)}onmatchdata(e){this.verbose&&window&&window.console&&console.log(e)}onmatchpresence(e){this.verbose&&window&&window.console&&console.log(e)}onmatchmakerticket(e){this.verbose&&window&&window.console&&console.log(e)}onmatchmakermatched(e){this.verbose&&window&&window.console&&console.log(e)}onparty(e){this.verbose&&window&&window.console&&console.log(e)}onpartyclose(e){this.verbose&&window&&window.console&&console.log("Party closed: "+e)}onpartyjoinrequest(e){this.verbose&&window&&window.console&&console.log(e)}onpartydata(e){this.verbose&&window&&window.console&&console.log(e)}onpartyleader(e){this.verbose&&window&&window.console&&console.log(e)}onpartymatchmakerticket(e){this.verbose&&window&&window.console&&console.log(e)}onpartypresence(e){this.verbose&&window&&window.console&&console.log(e)}onstatuspresence(e){this.verbose&&window&&window.console&&console.log(e)}onstreampresence(e){this.verbose&&window&&window.console&&console.log(e)}onstreamdata(e){this.verbose&&window&&window.console&&console.log(e)}onheartbeattimeout(){this.verbose&&window&&window.console&&console.log("Heartbeat timeout.")}send(t,r=e.DefaultSendTimeoutMs){const s=t;return new Promise(((e,t)=>{if(this.adapter.isOpen())if(s.match_data_send)this.adapter.send(s),e();else if(s.party_data_send)this.adapter.send(s),e();else{s.channel_message_send?s.channel_message_send.content=JSON.stringify(s.channel_message_send.content):s.channel_message_update&&(s.channel_message_update.content=JSON.stringify(s.channel_message_update.content));const i=this.generatecid();this.cIds[i]={resolve:e,reject:t},setTimeout((()=>{t("The socket timed out while waiting for a response.")}),r),s.cid=i,this.adapter.send(s)}else t("Socket connection has not been established yet.");if(this.verbose&&window&&window.console){const e=l({},s);e.match_data_send&&e.match_data_send.data?e.match_data_send.data=ie(e.match_data_send.data):e.party_data_send&&e.party_data_send.data&&(e.party_data_send.data=ie(e.party_data_send.data)),console.log("Sent message: %o",JSON.stringify(e))}}))}acceptPartyMember(e,t){return this.send({party_accept:{party_id:e,presence:t}})}addMatchmaker(e,t,r,s,i){return c(this,null,(function*(){return(yield this.send({matchmaker_add:{min_count:t,max_count:r,query:e,string_properties:s,numeric_properties:i}})).matchmaker_ticket}))}addMatchmakerParty(e,t,r,s,i,n){return c(this,null,(function*(){return(yield this.send({party_matchmaker_add:{party_id:e,min_count:r,max_count:s,query:t,string_properties:i,numeric_properties:n}})).party_matchmaker_ticket}))}closeParty(e){return c(this,null,(function*(){return yield this.send({party_close:{party_id:e}})}))}createMatch(e){return c(this,null,(function*(){return(yield this.send({match_create:{name:e}})).match}))}createParty(e,t){return c(this,null,(function*(){return(yield this.send({party_create:{open:e,max_size:t}})).party}))}followUsers(e){return c(this,null,(function*(){return(yield this.send({status_follow:{user_ids:e}})).status}))}joinChat(e,t,r,s){return c(this,null,(function*(){return(yield this.send({channel_join:{target:e,type:t,persistence:r,hidden:s}})).channel}))}joinMatch(e,t,r){return c(this,null,(function*(){const s={match_join:{metadata:r}};return t?s.match_join.token=t:s.match_join.match_id=e,(yield this.send(s)).match}))}joinParty(e){return c(this,null,(function*(){return yield this.send({party_join:{party_id:e}})}))}leaveChat(e){return this.send({channel_leave:{channel_id:e}})}leaveMatch(e){return this.send({match_leave:{match_id:e}})}leaveParty(e){return this.send({party_leave:{party_id:e}})}listPartyJoinRequests(e){return c(this,null,(function*(){return(yield this.send({party_join_request_list:{party_id:e}})).party_join_request}))}promotePartyMember(e,t){return c(this,null,(function*(){return(yield this.send({party_promote:{party_id:e,presence:t}})).party_leader}))}removeChatMessage(e,t){return c(this,null,(function*(){return(yield this.send({channel_message_remove:{channel_id:e,message_id:t}})).channel_message_ack}))}removeMatchmaker(e){return this.send({matchmaker_remove:{ticket:e}})}removeMatchmakerParty(e,t){return this.send({party_matchmaker_remove:{party_id:e,ticket:t}})}removePartyMember(e,t){return c(this,null,(function*(){return this.send({party_remove:{party_id:e,presence:t}})}))}rpc(e,t,r){return c(this,null,(function*(){return(yield this.send({rpc:{id:e,payload:t,http_key:r}})).rpc}))}sendMatchState(e,t,r,s,i){return c(this,null,(function*(){return this.send({match_data_send:{match_id:e,op_code:t,data:r,presences:null!=s?s:[],reliable:i}})}))}sendPartyData(e,t,r){return this.send({party_data_send:{party_id:e,op_code:t,data:r}})}unfollowUsers(e){return this.send({status_unfollow:{user_ids:e}})}updateChatMessage(e,t,r){return c(this,null,(function*(){return(yield this.send({channel_message_update:{channel_id:e,message_id:t,content:r}})).channel_message_ack}))}updateStatus(e){return this.send({status_update:{status:e}})}writeChatMessage(e,t){return c(this,null,(function*(){return(yield this.send({channel_message_send:{channel_id:e,content:t}})).channel_message_ack}))}pingPong(){return c(this,null,(function*(){if(this.adapter.isOpen()){try{yield this.send({ping:{}},this._heartbeatTimeoutMs)}catch(e){return void(this.adapter.isOpen()&&(window&&window.console&&console.error("Server unreachable from heartbeat."),this.onheartbeattimeout(),this.adapter.close()))}setTimeout((()=>this.pingPong()),this._heartbeatTimeoutMs)}}))}};pe.DefaultHeartbeatTimeoutMs=1e4,pe.DefaultSendTimeoutMs=1e4,pe.DefaultConnectTimeoutMs=3e4;var fe=pe,_e=class{constructor(e="defaultkey",t="127.0.0.1",r="7350",s=!1,i=7e3,n=!0){this.serverkey=e,this.host=t,this.port=r,this.useSSL=s,this.timeout=i,this.autoRefreshSession=n,this.expiredTimespanMs=3e5;const o=`${s?"https://":"http://"}${t}:${r}`;this.apiClient=new ae(e,o,i)}addGroupUsers(e,t,r){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.addGroupUsers(e.token,t,r).then((e=>void 0!==e))}))}addFriends(e,t,r){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.addFriends(e.token,t,r).then((e=>void 0!==e))}))}authenticateApple(e,t,r){return c(this,arguments,(function*(e,t,r,s={},i={}){const n={token:e,vars:s};return this.apiClient.authenticateApple(this.serverkey,"",n,t,r,i).then((e=>new ue(e.token||"",e.refresh_token||"",e.created||!1)))}))}authenticateCustom(e,t,r,s={},i={}){const n={id:e,vars:s};return this.apiClient.authenticateCustom(this.serverkey,"",n,t,r,i).then((e=>new ue(e.token||"",e.refresh_token||"",e.created||!1)))}authenticateDevice(e,t,r,s){const i={id:e,vars:s};return this.apiClient.authenticateDevice(this.serverkey,"",i,t,r).then((e=>new ue(e.token||"",e.refresh_token||"",e.created||!1)))}authenticateEmail(e,t,r,s,i){const n={email:e,password:t,vars:i};return this.apiClient.authenticateEmail(this.serverkey,"",n,r,s).then((e=>new ue(e.token||"",e.refresh_token||"",e.created||!1)))}authenticateFacebookInstantGame(e,t,r,s,i={}){const n={signed_player_info:e,vars:s};return this.apiClient.authenticateFacebookInstantGame(this.serverkey,"",{signed_player_info:n.signed_player_info,vars:n.vars},t,r,i).then((e=>new ue(e.token||"",e.refresh_token||"",e.created||!1)))}authenticateFacebook(e,t,r,s,i,n={}){const o={token:e,vars:i};return this.apiClient.authenticateFacebook(this.serverkey,"",o,t,r,s,n).then((e=>new ue(e.token||"",e.refresh_token||"",e.created||!1)))}authenticateGoogle(e,t,r,s){return c(this,arguments,(function*(e,t,r,s,i={}){const n={token:e,vars:s},o=yield this.apiClient.authenticateGoogle(this.serverkey,"",n,t,r,i);return new ue(o.token||"",o.refresh_token||"",o.created||!1)}))}authenticateGameCenter(e,t,r,s,i,n,o,a,u){return c(this,arguments,(function*(e,t,r,s,i,n,o,a,u,h={}){const d={bundle_id:e,player_id:t,public_key_url:r,salt:s,signature:i,timestamp_seconds:n,vars:u},l=yield this.apiClient.authenticateGameCenter(this.serverkey,"",d,a,o,h);return new ue(l.token||"",l.refresh_token||"",l.created||!1)}))}authenticateSteam(e,t,r,s,i){return c(this,null,(function*(){const n={token:e,vars:i,sync:s};return this.apiClient.authenticateSteam(this.serverkey,"",n,t,r).then((e=>new ue(e.token||"",e.refresh_token||"",e.created||!1)))}))}banGroupUsers(e,t,r){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.banGroupUsers(e.token,t,r).then((e=>void 0!==e))}))}blockFriends(e,t,r){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.blockFriends(e.token,t,r).then((e=>Promise.resolve(null!=e)))}))}createGroup(e,t){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.createGroup(e.token,t).then((e=>Promise.resolve({avatar_url:e.avatar_url,create_time:e.create_time,creator_id:e.creator_id,description:e.description,edge_count:e.edge_count?Number(e.edge_count):0,id:e.id,lang_tag:e.lang_tag,max_count:e.max_count?Number(e.max_count):0,metadata:e.metadata?JSON.parse(e.metadata):void 0,name:e.name,open:e.open,update_time:e.update_time})))}))}createSocket(e=!1,t=!1,r=new me,s=fe.DefaultSendTimeoutMs){return new fe(this.host,this.port,e,t,r,s)}deleteAccount(e){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.deleteAccount(e.token).then((e=>void 0!==e))}))}deleteFriends(e,t,r){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.deleteFriends(e.token,t,r).then((e=>void 0!==e))}))}deleteGroup(e,t){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.deleteGroup(e.token,t).then((e=>void 0!==e))}))}deleteNotifications(e,t){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.deleteNotifications(e.token,t).then((e=>Promise.resolve(null!=e)))}))}deleteStorageObjects(e,t){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.deleteStorageObjects(e.token,t).then((e=>Promise.resolve(null!=e)))}))}deleteTournamentRecord(e,t){return c(this,null,(function*(){return this.apiClient.deleteTournamentRecord(e.token,t)}))}demoteGroupUsers(e,t,r){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.demoteGroupUsers(e.token,t,r).then((e=>Promise.resolve(null!=e)))}))}emitEvent(e,t){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.event(e.token,t).then((e=>Promise.resolve(null!=e)))}))}getAccount(e){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.getAccount(e.token)}))}getSubscription(e,t){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.getSubscription(e.token,t)}))}importFacebookFriends(e,t){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.importFacebookFriends(e.token,t).then((e=>void 0!==e))}))}importSteamFriends(e,t,r){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.importSteamFriends(e.token,t,r).then((e=>void 0!==e))}))}getUsers(e,t,r,s){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.getUsers(e.token,t,r,s).then((e=>{var t={users:[]};return null==e.users||e.users.forEach((e=>{t.users.push({avatar_url:e.avatar_url,create_time:e.create_time,display_name:e.display_name,edge_count:e.edge_count?Number(e.edge_count):0,facebook_id:e.facebook_id,gamecenter_id:e.gamecenter_id,google_id:e.google_id,id:e.id,lang_tag:e.lang_tag,location:e.location,online:e.online,steam_id:e.steam_id,timezone:e.timezone,update_time:e.update_time,username:e.username,metadata:e.metadata?JSON.parse(e.metadata):void 0})})),Promise.resolve(t)}))}))}joinGroup(e,t){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.joinGroup(e.token,t,{}).then((e=>void 0!==e))}))}joinTournament(e,t){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.joinTournament(e.token,t,{}).then((e=>void 0!==e))}))}kickGroupUsers(e,t,r){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.kickGroupUsers(e.token,t,r).then((e=>Promise.resolve(null!=e)))}))}leaveGroup(e,t){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.leaveGroup(e.token,t,{}).then((e=>void 0!==e))}))}listChannelMessages(e,t,r,s,i){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listChannelMessages(e.token,t,r,s,i).then((e=>{var t={messages:[],next_cursor:e.next_cursor,prev_cursor:e.prev_cursor,cacheable_cursor:e.cacheable_cursor};return null==e.messages||e.messages.forEach((e=>{t.messages.push({channel_id:e.channel_id,code:e.code?Number(e.code):0,create_time:e.create_time,message_id:e.message_id,persistent:e.persistent,sender_id:e.sender_id,update_time:e.update_time,username:e.username,content:e.content?JSON.parse(e.content):void 0,group_id:e.group_id,room_name:e.room_name,user_id_one:e.user_id_one,user_id_two:e.user_id_two})})),Promise.resolve(t)}))}))}listGroupUsers(e,t,r,s,i){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listGroupUsers(e.token,t,s,r,i).then((e=>{var t={group_users:[],cursor:e.cursor};return null==e.group_users||e.group_users.forEach((e=>{t.group_users.push({user:{avatar_url:e.user.avatar_url,create_time:e.user.create_time,display_name:e.user.display_name,edge_count:e.user.edge_count?Number(e.user.edge_count):0,facebook_id:e.user.facebook_id,gamecenter_id:e.user.gamecenter_id,google_id:e.user.google_id,id:e.user.id,lang_tag:e.user.lang_tag,location:e.user.location,online:e.user.online,steam_id:e.user.steam_id,timezone:e.user.timezone,update_time:e.user.update_time,username:e.user.username,metadata:e.user.metadata?JSON.parse(e.user.metadata):void 0},state:e.state?Number(e.state):0})})),Promise.resolve(t)}))}))}listUserGroups(e,t,r,s,i){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listUserGroups(e.token,t,r,s,i).then((e=>{var t={user_groups:[],cursor:e.cursor};return null==e.user_groups||e.user_groups.forEach((e=>{t.user_groups.push({group:{avatar_url:e.group.avatar_url,create_time:e.group.create_time,creator_id:e.group.creator_id,description:e.group.description,edge_count:e.group.edge_count?Number(e.group.edge_count):0,id:e.group.id,lang_tag:e.group.lang_tag,max_count:e.group.max_count,metadata:e.group.metadata?JSON.parse(e.group.metadata):void 0,name:e.group.name,open:e.group.open,update_time:e.group.update_time},state:e.state?Number(e.state):0})})),Promise.resolve(t)}))}))}listGroups(e,t,r,s){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listGroups(e.token,t,r,s).then((e=>{var t={groups:[]};return null==e.groups||(t.cursor=e.cursor,e.groups.forEach((e=>{t.groups.push({avatar_url:e.avatar_url,create_time:e.create_time,creator_id:e.creator_id,description:e.description,edge_count:e.edge_count?Number(e.edge_count):0,id:e.id,lang_tag:e.lang_tag,max_count:e.max_count,metadata:e.metadata?JSON.parse(e.metadata):void 0,name:e.name,open:e.open,update_time:e.update_time})}))),Promise.resolve(t)}))}))}linkApple(e,t){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.linkApple(e.token,t).then((e=>void 0!==e))}))}linkCustom(e,t){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.linkCustom(e.token,t).then((e=>void 0!==e))}))}linkDevice(e,t){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.linkDevice(e.token,t).then((e=>void 0!==e))}))}linkEmail(e,t){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.linkEmail(e.token,t).then((e=>void 0!==e))}))}linkFacebook(e,t){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.linkFacebook(e.token,t).then((e=>void 0!==e))}))}linkFacebookInstantGame(e,t){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.linkFacebookInstantGame(e.token,t).then((e=>void 0!==e))}))}linkGoogle(e,t){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.linkGoogle(e.token,t).then((e=>void 0!==e))}))}linkGameCenter(e,t){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.linkGameCenter(e.token,t).then((e=>void 0!==e))}))}linkSteam(e,t){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.linkSteam(e.token,t).then((e=>void 0!==e))}))}listFriends(e,t,r,s){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listFriends(e.token,r,t,s).then((e=>{var t={friends:[],cursor:e.cursor};return null==e.friends||e.friends.forEach((e=>{t.friends.push({user:{avatar_url:e.user.avatar_url,create_time:e.user.create_time,display_name:e.user.display_name,edge_count:e.user.edge_count?Number(e.user.edge_count):0,facebook_id:e.user.facebook_id,gamecenter_id:e.user.gamecenter_id,google_id:e.user.google_id,id:e.user.id,lang_tag:e.user.lang_tag,location:e.user.location,online:e.user.online,steam_id:e.user.steam_id,timezone:e.user.timezone,update_time:e.user.update_time,username:e.user.username,metadata:e.user.metadata?JSON.parse(e.user.metadata):void 0,facebook_instant_game_id:e.user.facebook_instant_game_id},state:e.state})})),Promise.resolve(t)}))}))}listFriendsOfFriends(e,t,r){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listFriendsOfFriends(e.token,t,r).then((e=>{var t={friends_of_friends:[],cursor:e.cursor};return null==e.friends_of_friends||e.friends_of_friends.forEach((e=>{t.friends_of_friends.push({referrer:e.referrer,user:{avatar_url:e.user.avatar_url,create_time:e.user.create_time,display_name:e.user.display_name,edge_count:e.user.edge_count?Number(e.user.edge_count):0,facebook_id:e.user.facebook_id,gamecenter_id:e.user.gamecenter_id,google_id:e.user.google_id,id:e.user.id,lang_tag:e.user.lang_tag,location:e.user.location,online:e.user.online,steam_id:e.user.steam_id,timezone:e.user.timezone,update_time:e.user.update_time,username:e.user.username,metadata:e.user.metadata?JSON.parse(e.user.metadata):void 0,facebook_instant_game_id:e.user.facebook_instant_game_id}})})),Promise.resolve(t)}))}))}listLeaderboardRecords(e,t,r,s,i,n){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listLeaderboardRecords(e.token,t,r,s,i,n).then((e=>{var t={next_cursor:e.next_cursor,prev_cursor:e.prev_cursor,rank_count:e.rank_count?Number(e.rank_count):0,owner_records:[],records:[]};return null!=e.owner_records&&e.owner_records.forEach((e=>{t.owner_records.push({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score?Number(e.num_score):0,owner_id:e.owner_id,rank:e.rank?Number(e.rank):0,score:e.score?Number(e.score):0,subscore:e.subscore?Number(e.subscore):0,update_time:e.update_time,username:e.username,max_num_score:e.max_num_score?Number(e.max_num_score):0})})),null!=e.records&&e.records.forEach((e=>{t.records.push({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score?Number(e.num_score):0,owner_id:e.owner_id,rank:e.rank?Number(e.rank):0,score:e.score?Number(e.score):0,subscore:e.subscore?Number(e.subscore):0,update_time:e.update_time,username:e.username,max_num_score:e.max_num_score?Number(e.max_num_score):0})})),Promise.resolve(t)}))}))}listLeaderboardRecordsAroundOwner(e,t,r,s,i,n){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listLeaderboardRecordsAroundOwner(e.token,t,r,s,i,n).then((e=>{var t={next_cursor:e.next_cursor,prev_cursor:e.prev_cursor,rank_count:e.rank_count?Number(e.rank_count):0,owner_records:[],records:[]};return null!=e.owner_records&&e.owner_records.forEach((e=>{t.owner_records.push({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score?Number(e.num_score):0,owner_id:e.owner_id,rank:e.rank?Number(e.rank):0,score:e.score?Number(e.score):0,subscore:e.subscore?Number(e.subscore):0,update_time:e.update_time,username:e.username,max_num_score:e.max_num_score?Number(e.max_num_score):0})})),null!=e.records&&e.records.forEach((e=>{t.records.push({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score?Number(e.num_score):0,owner_id:e.owner_id,rank:e.rank?Number(e.rank):0,score:e.score?Number(e.score):0,subscore:e.subscore?Number(e.subscore):0,update_time:e.update_time,username:e.username,max_num_score:e.max_num_score?Number(e.max_num_score):0})})),Promise.resolve(t)}))}))}listMatches(e,t,r,s,i,n,o){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listMatches(e.token,t,r,s,i,n,o)}))}listNotifications(e,t,r){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listNotifications(e.token,t,r).then((e=>{var t={cacheable_cursor:e.cacheable_cursor,notifications:[]};return null==e.notifications||e.notifications.forEach((e=>{t.notifications.push({code:e.code?Number(e.code):0,create_time:e.create_time,id:e.id,persistent:e.persistent,sender_id:e.sender_id,subject:e.subject,content:e.content?JSON.parse(e.content):void 0})})),Promise.resolve(t)}))}))}listStorageObjects(e,t,r,s,i){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listStorageObjects(e.token,t,r,s,i).then((e=>{var t={objects:[],cursor:e.cursor};return null==e.objects||e.objects.forEach((e=>{t.objects.push({collection:e.collection,key:e.key,permission_read:e.permission_read?Number(e.permission_read):0,permission_write:e.permission_write?Number(e.permission_write):0,value:e.value?JSON.parse(e.value):void 0,version:e.version,user_id:e.user_id,create_time:e.create_time,update_time:e.update_time})})),Promise.resolve(t)}))}))}listTournaments(e,t,r,s,i,n,o){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listTournaments(e.token,t,r,s,i,n,o).then((e=>{var t={cursor:e.cursor,tournaments:[]};return null!=e.tournaments&&e.tournaments.forEach((e=>{t.tournaments.push({id:e.id,title:e.title,description:e.description,duration:e.duration?Number(e.duration):0,category:e.category?Number(e.category):0,sort_order:e.sort_order?Number(e.sort_order):0,size:e.size?Number(e.size):0,max_size:e.max_size?Number(e.max_size):0,max_num_score:e.max_num_score?Number(e.max_num_score):0,can_enter:e.can_enter,end_active:e.end_active?Number(e.end_active):0,next_reset:e.next_reset?Number(e.next_reset):0,metadata:e.metadata?JSON.parse(e.metadata):void 0,create_time:e.create_time,start_time:e.start_time,end_time:e.end_time,start_active:e.start_active,authoritative:e.authoritative})})),Promise.resolve(t)}))}))}listSubscriptions(e,t,r){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listSubscriptions(e.token,{cursor:t,limit:r})}))}listTournamentRecords(e,t,r,s,i,n){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listTournamentRecords(e.token,t,r,s,i,n).then((e=>{var t={next_cursor:e.next_cursor,prev_cursor:e.prev_cursor,owner_records:[],records:[]};return null!=e.owner_records&&e.owner_records.forEach((e=>{t.owner_records.push({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score?Number(e.num_score):0,owner_id:e.owner_id,rank:e.rank?Number(e.rank):0,score:e.score?Number(e.score):0,subscore:e.subscore?Number(e.subscore):0,update_time:e.update_time,username:e.username,max_num_score:e.max_num_score?Number(e.max_num_score):0})})),null!=e.records&&e.records.forEach((e=>{t.records.push({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score?Number(e.num_score):0,owner_id:e.owner_id,rank:e.rank?Number(e.rank):0,score:e.score?Number(e.score):0,subscore:e.subscore?Number(e.subscore):0,update_time:e.update_time,username:e.username,max_num_score:e.max_num_score?Number(e.max_num_score):0})})),Promise.resolve(t)}))}))}listTournamentRecordsAroundOwner(e,t,r,s,i,n){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listTournamentRecordsAroundOwner(e.token,t,r,s,i,n).then((e=>{var t={next_cursor:e.next_cursor,prev_cursor:e.prev_cursor,owner_records:[],records:[]};return null!=e.owner_records&&e.owner_records.forEach((e=>{t.owner_records.push({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score?Number(e.num_score):0,owner_id:e.owner_id,rank:e.rank?Number(e.rank):0,score:e.score?Number(e.score):0,subscore:e.subscore?Number(e.subscore):0,update_time:e.update_time,username:e.username,max_num_score:e.max_num_score?Number(e.max_num_score):0})})),null!=e.records&&e.records.forEach((e=>{t.records.push({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score?Number(e.num_score):0,owner_id:e.owner_id,rank:e.rank?Number(e.rank):0,score:e.score?Number(e.score):0,subscore:e.subscore?Number(e.subscore):0,update_time:e.update_time,username:e.username,max_num_score:e.max_num_score?Number(e.max_num_score):0})})),Promise.resolve(t)}))}))}promoteGroupUsers(e,t,r){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.promoteGroupUsers(e.token,t,r)}))}readStorageObjects(e,t){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.readStorageObjects(e.token,t).then((e=>{var t={objects:[]};return null==e.objects||e.objects.forEach((e=>{t.objects.push({collection:e.collection,key:e.key,permission_read:e.permission_read?Number(e.permission_read):0,permission_write:e.permission_write?Number(e.permission_write):0,value:e.value?JSON.parse(e.value):void 0,version:e.version,user_id:e.user_id,create_time:e.create_time,update_time:e.update_time})})),Promise.resolve(t)}))}))}rpc(e,t,r){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.rpcFunc(e.token,t,JSON.stringify(r)).then((e=>Promise.resolve({id:e.id,payload:e.payload?JSON.parse(e.payload):void 0})))}))}rpcHttpKey(e,t,r){return c(this,null,(function*(){return this.apiClient.rpcFunc2("",t,r&&JSON.stringify(r)||"",e).then((e=>Promise.resolve({id:e.id,payload:e.payload?JSON.parse(e.payload):void 0}))).catch((e=>{throw e}))}))}sessionLogout(e,t,r){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.sessionLogout(e.token,{refresh_token:r,token:t}).then((e=>void 0!==e))}))}sessionRefresh(e){return c(this,arguments,(function*(e,t={}){if(!e)return console.error("Cannot refresh a null session."),e;e.created&&e.expires_at-e.created_at<70&&console.warn("Session lifetime too short, please set '--session.token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session"),e.created&&e.refresh_expires_at-e.created_at<3700&&console.warn("Session refresh lifetime too short, please set '--session.refresh_token_expiry_sec' option. See the documentation for more info: https://heroiclabs.com/docs/nakama/getting-started/configuration/#session");const r=yield this.apiClient.sessionRefresh(this.serverkey,"",{token:e.refresh_token,vars:t});return e.update(r.token,r.refresh_token),e}))}unlinkApple(e,t){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.unlinkApple(e.token,t).then((e=>void 0!==e))}))}unlinkCustom(e,t){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.unlinkCustom(e.token,t).then((e=>void 0!==e))}))}unlinkDevice(e,t){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.unlinkDevice(e.token,t).then((e=>void 0!==e))}))}unlinkEmail(e,t){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.unlinkEmail(e.token,t).then((e=>void 0!==e))}))}unlinkFacebook(e,t){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.unlinkFacebook(e.token,t).then((e=>void 0!==e))}))}unlinkFacebookInstantGame(e,t){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.unlinkFacebookInstantGame(e.token,t).then((e=>void 0!==e))}))}unlinkGoogle(e,t){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.unlinkGoogle(e.token,t).then((e=>void 0!==e))}))}unlinkGameCenter(e,t){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.unlinkGameCenter(e.token,t).then((e=>void 0!==e))}))}unlinkSteam(e,t){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.unlinkSteam(e.token,t).then((e=>void 0!==e))}))}updateAccount(e,t){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.updateAccount(e.token,t).then((e=>void 0!==e))}))}updateGroup(e,t,r){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.updateGroup(e.token,t,r).then((e=>void 0!==e))}))}validatePurchaseApple(e,t,r=!0){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.validatePurchaseApple(e.token,{receipt:t,persist:r})}))}validatePurchaseFacebookInstant(e,t,r=!0){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.validatePurchaseFacebookInstant(e.token,{signed_request:t,persist:r})}))}validatePurchaseGoogle(e,t,r=!0){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.validatePurchaseGoogle(e.token,{purchase:t,persist:r})}))}validatePurchaseHuawei(e,t,r,s=!0){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.validatePurchaseHuawei(e.token,{purchase:t,signature:r,persist:s})}))}validateSubscriptionApple(e,t,r=!0){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.validateSubscriptionApple(e.token,{receipt:t,persist:r})}))}validateSubscriptionGoogle(e,t,r=!0){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.validateSubscriptionGoogle(e.token,{receipt:t,persist:r})}))}writeLeaderboardRecord(e,t,r){return c(this,null,(function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.writeLeaderboardRecord(e.token,t,{metadata:r.metadata?JSON.stringify(r.metadata):void 0,score:r.score,subscore:r.subscore}).then((e=>Promise.resolve({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score?Number(e.num_score):0,owner_id:e.owner_id,score:e.score?Number(e.score):0,subscore:e.subscore?Number(e.subscore):0,update_time:e.update_time,username:e.username,max_num_score:e.max_num_score?Number(e.max_num_score):0,rank:e.rank?Number(e.rank):0})))}))}writeStorageObjects(e,t){return c(this,null,(function*(){this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e));var r={objects:[]};return t.forEach((e=>{r.objects.push({collection:e.collection,key:e.key,permission_read:e.permission_read,permission_write:e.permission_write,value:JSON.stringify(e.value),version:e.version})})),this.apiClient.writeStorageObjects(e.token,r)}))}writeTournamentRecord(e,t,r){return c(this,null,(function*(){return this.apiClient.writeTournamentRecord(e.token,t,{metadata:r.metadata?JSON.stringify(r.metadata):void 0,score:r.score,subscore:r.subscore}).then((e=>Promise.resolve({expiry_time:e.expiry_time,leaderboard_id:e.leaderboard_id,metadata:e.metadata?JSON.parse(e.metadata):void 0,num_score:e.num_score?Number(e.num_score):0,owner_id:e.owner_id,score:e.score?Number(e.score):0,subscore:e.subscore?Number(e.subscore):0,update_time:e.update_time,username:e.username,max_num_score:e.max_num_score?Number(e.max_num_score):0,rank:e.rank?Number(e.rank):0})))}))}}}},t={};function r(s){var i=t[s];if(void 0!==i)return i.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,r),n.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),new(r(277).Client)("defaultkey","127.0.0.1","7350",!1).authenticateCustom("test_id").then((function(e){console.log("authenticated.")})).catch((function(e){console.log("error authenticating.")}))})();